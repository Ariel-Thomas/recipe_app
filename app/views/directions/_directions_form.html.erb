<div>
  <%= form_for @direction, url: recipe_directions_path(@recipe,@direction), remote: true do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <% hidden_field_tag :recipe, :id %>

    <section class="left-col">
      <%= label_tag "Used Ingredients" %> 

      <% if (@ingredient_entries != nil) then %>
        <% @ingredient_entries.each_with_index do |val,index| %>
          <div class="ingredient-list">
            <div class="ingredient-boxes pull-left">
              <%= check_box_tag 'direction[ingredient_entries[' + index.to_s + ']]', @recipe.ingredient_entries[index].id %>
            </div>
            <div class="ingredient-labels">
            <label> <%= (val.amount + " " + val.ingredient.name) %> </label>
            </div>
          </div>
        <% end %>
      <% end %>
    </section>

    <section class="right-col">
      <%= f.label :text%>
      <%= f.text_area :text, rows: 10, cols: 11 %>
    </section>

    <section>
      <div class="add-button">
        <%= f.submit "Add Direction", class: "btn btn-large btn-primary" %>
      </div>
    </section>
  <% end %>
</div>

<style>
.ingredient-list{
  height:25px;width:200px;
}

.ingredient-labels{
  position:relative;float:left;top:5px
}

.left-col{
  width:400px;float:left
}
.right-col{
  float:left; width:500px
}
.add-button{
  float:left;padding: 10px
}
</style>